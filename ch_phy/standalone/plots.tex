% Created 2016-08-17 Wed 14:38
\documentclass[tikz]{standalone}

\input{../../templates/standalone_header}

\usepackage{pgfplots}

\begin{document}

\begin{tikzpicture}
  \label{page:phy:ascii_b}
  \begin{axis}[no markers,
    xlabel=Time,
    ylabel=Voltage,
    ]
    \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
  \end{axis}
\end{tikzpicture}


\begin{tikzpicture}
  \begin{axis}[no markers,
    xlabel=Time,
    ylabel=Voltage,
    domain=0:8,
    ]
    \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
    \addplot expression {3/4}; 
  \end{axis}
\end{tikzpicture}


\begin{tikzpicture}
  \begin{axis}[no markers,
    xlabel=Time,
    ylabel=Voltage,
    domain=0:8,
    trig format plots=rad,
    ]
    \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
    \addplot expression {1/2*3/4 + % 
      % a1:
      1/(pi*1) * ( cos (pi * 1/4) - cos (3*pi *1 /4) + cos (6*pi* 1/4) - cos(7*pi*1/4)) * sin(2*pi* 1* 1/8 * x)  + % 
      % b1:
      1/(pi * 1) * (sin (3*pi * 1/4) - sin(pi *1/4) + sin (7*pi * 1/4) - sin (6*pi*1/4) ) * cos(2*pi* 1 * 1/8*x)
     }; 
  \end{axis}
\end{tikzpicture}


% \begin{tikzpicture}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \addplot expression {1/2*3/4 + % 
%       % a1:
%       1/(pi*1) * ( cos (pi * 1/4) - cos (3*pi *1 /4) + cos (6*pi* 1/4) - cos(7*pi*1/4)) * sin(2*pi* 1* 1/8 * x)  + %
%       % a2: 
%       1/(pi*2) * ( cos (pi * 2/4) - cos (3*pi * 2 /4) + cos (6*pi* 2/4) - cos(7*pi*2/4)) * sin(2*pi* 2 * 1/8 * x)  + %
%       % b1:
%       1/(pi * 1) * (sin (3*pi * 1/4) - sin(pi *1/4) + sin (7*pi * 1/4) - sin (6*pi*1/4) ) * cos(2*pi* 1 * 1/8*x) + %
%       % b2:
%       1/(pi * 2) * (sin (3*pi * 2/4) - sin(pi *2/4) + sin (7*pi * 2/4) - sin (6*pi*2/4) ) * cos(2*pi* 2 * 1/8*x)  %
%      }; 
%   \end{axis}
% \end{tikzpicture}


% \begin{tikzpicture}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \addplot expression {1/2*3/4 + % 
%       % a1:
%       1/(pi*1) * ( cos (pi * 1/4) - cos (3*pi *1 /4) + cos (6*pi* 1/4) - cos(7*pi*1/4)) * sin(2*pi* 1* 1/8 * x)  + %
%       % a2: 
%       1/(pi*2) * ( cos (pi * 2/4) - cos (3*pi * 2 /4) + cos (6*pi* 2/4) - cos(7*pi*2/4)) * sin(2*pi* 2 * 1/8 * x)  + %
%       % a3: 
%       1/(pi*3) * ( cos (pi * 3/4) - cos (3*pi * 3 /4) + cos (6*pi* 3/4) - cos(7*pi*3/4)) * sin(2*pi* 3 * 1/8 * x)  + %
%       % b1:
%       1/(pi * 1) * (sin (3*pi * 1/4) - sin(pi *1/4) + sin (7*pi * 1/4) - sin (6*pi*1/4) ) * cos(2*pi* 1 * 1/8*x) + %
%       % b2:
%       1/(pi * 2) * (sin (3*pi * 2/4) - sin(pi *2/4) + sin (7*pi * 2/4) - sin (6*pi*2/4) ) * cos(2*pi* 2 * 1/8*x) +  %
%       % b3:
%       1/(pi * 3) * (sin (3*pi * 3/4) - sin(pi *3/4) + sin (7*pi * 3/4) - sin (6*pi*3/4) ) * cos(2*pi* 3 * 1/8*x) %
%      }; 
%   \end{axis}
% \end{tikzpicture}


% \begin{tikzpicture}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \addplot expression {1/2*3/4 + % 
%       % a1:
%       1/(pi*1) * ( cos (pi * 1/4) - cos (3*pi *1 /4) + cos (6*pi* 1/4) - cos(7*pi*1/4)) * sin(2*pi* 1* 1/8 * x)  + %
%       % a2: 
%       1/(pi*2) * ( cos (pi * 2/4) - cos (3*pi * 2 /4) + cos (6*pi* 2/4) - cos(7*pi*2/4)) * sin(2*pi* 2 * 1/8 * x)  + %
%       % a3: 
%       1/(pi*3) * ( cos (pi * 3/4) - cos (3*pi * 3 /4) + cos (6*pi* 3/4) - cos(7*pi*3/4)) * sin(2*pi* 3 * 1/8 * x)  + %
%       % a3: 
%       1/(pi*4) * ( cos (pi * 4/4) - cos (3*pi * 4/4) + cos (6*pi* 4/4) - cos(7*pi*4/4)) * sin(2*pi* 4 * 1/8 * x)  + %
%       % b1:
%       1/(pi * 1) * (sin (3*pi * 1/4) - sin(pi *1/4) + sin (7*pi * 1/4) - sin (6*pi*1/4) ) * cos(2*pi* 1 * 1/8*x) + %
%       % b2:
%       1/(pi * 2) * (sin (3*pi * 2/4) - sin(pi *2/4) + sin (7*pi * 2/4) - sin (6*pi*2/4) ) * cos(2*pi* 2 * 1/8*x) +  %
%       % b3:
%       1/(pi * 3) * (sin (3*pi * 3/4) - sin(pi *3/4) + sin (7*pi * 3/4) - sin (6*pi*3/4) ) * cos(2*pi* 3 * 1/8*x) + %
%       % b4:
%       1/(pi * 3) * (sin (3*pi * 4/4) - sin(pi *4/4) + sin (7*pi * 4/4) - sin (6*pi*4/4) ) * cos(2*pi* 4 * 1/8*x) %
%      }; 
%   \end{axis}
% \end{tikzpicture}


% get data from table

\pgfplotstableread{fourier_data}\ftable


% \begin{tikzpicture}
%   \label{page:phy:fourier:all_harmonics}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \foreach \harmonics in {0, 1, 2, 4, 8, 16, 32, 64, 128, 1024} {
%       \addplot table [x=t, y=\harmonics] {\ftable};
%     }
%   \end{axis}
% \end{tikzpicture}

% \foreach \harmonics in {0, 1, 2, 4, 8, 16, 32, 64, 128, 1024, att} {
%   \begin{tikzpicture}
%     \label{page:phy:fourier:h_\harmonics}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \addplot table [x=t, y=\harmonics] {\ftable}; 
%   \end{axis}
% \end{tikzpicture}
% }

% \begin{tikzpicture}
%   \label{page:phy:fourier:lowpass}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \addplot table [x=t, y=low] {\ftable}; 
%   \end{axis}
% \end{tikzpicture}

% \begin{tikzpicture}
%   \label{page:phy:fourier:lowpass:noisy}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \addplot table [x=t, y=lowNoise] {\ftable}; 
%   \end{axis}
% \end{tikzpicture}


% \begin{tikzpicture}
%   \label{page:phy:fourier:bandpass}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \addplot table [x=t, y=band] {\ftable}; 
%   \end{axis}
% \end{tikzpicture}

% \begin{tikzpicture}
%   \label{page:phy:fourier:bandpass:noisy}
%   \begin{axis}[no markers,
%     xlabel=Time,
%     ylabel=Voltage,
%     domain=0:8,
%     trig format plots=rad,
%     samples=100,
%     ]
%     \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
%     \addplot table [x=t, y=bandNoise] {\ftable}; 
%   \end{axis}
% \end{tikzpicture}

% -----
% receive bits:

\tikzstyle{every pin}=[
    fill=white,
    draw=black,
    % font=\footnotesize,
]

\begin{tikzpicture}
  \label{page:phy:fourier:correct_bits}
  \begin{axis}[no markers,
    xlabel=Time,
    ylabel=Voltage,
    domain=0:8,
    trig format plots=rad,
    samples=100,
    ]
    \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
    \addplot table [x=t, y=128] {\ftable}; 

    % \node [coordinate, pin] at (axis cs:0.5, 0)  {X};
    % \foreach \i/\b in {1/0,2/1,3/1,4/0,5/0,6/0,7/1,8/0} {
    %   \node [draw, fill=green] at (axis cs:\i,-0.25)  {\b}; 
    % }

    \node [draw, fill=green, anchor=north] at (axis cs:0.5,-0.05)  {0}; 
    \node [draw, fill=green, anchor=north] at (axis cs:1.5,-0.05)  {1}; 
    \node [draw, fill=green, anchor=north] at (axis cs:2.5,-0.05)  {1}; 
    \node [draw, fill=green, anchor=north] at (axis cs:3.5,-0.05)  {0}; 
    \node [draw, fill=green, anchor=north] at (axis cs:4.5,-0.05)  {0}; 
    \node [draw, fill=green, anchor=north] at (axis cs:5.5,-0.05)  {0}; 
    \node [draw, fill=green, anchor=north] at (axis cs:6.5,-0.05)  {1}; 
    \node [draw, fill=green, anchor=north] at (axis cs:7.5,-0.05)  {0}; 
  \end{axis}

\end{tikzpicture}


\begin{tikzpicture}
  \label{page:phy:fourier:wrong_bits:nonoise}
  \begin{axis}[no markers,
    xlabel=Time,
    ylabel=Voltage,
    domain=0:8,
    trig format plots=rad,
    samples=100,
    grid=both,
    minor tick num=3,
    ymin=-0.25, 
    ]
    \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
    \addplot [thick, red] table [x=t, y=low] {\ftable}; 

    % \node [coordinate, pin] at (axis cs:0.5, 0)  {X};
    % \foreach \i/\b in {1/0,2/1,3/1,4/0,5/0,6/0,7/1,8/0} {
    %   \node [draw, fill=green] at (axis cs:\i,-0.25)  {\b}; 
    % }

    \draw [dotted, thick, green] (axis cs:0,0.5) -- (axis cs:8,0.5)
    ; 
    
    \node [draw, fill=green, anchor=north] at (axis cs:0.5,-0.05)  {0}; 
    \node [draw, fill=green, anchor=north] at (axis cs:1.5,-0.05)  {1}; 
    \node [draw, fill=green, anchor=north] at (axis cs:2.5,-0.05)  {1}; 
    \node [draw, fill=green, anchor=north] at (axis cs:3.5,-0.05)  {0}; 
    \node [draw, fill=green, anchor=north] at (axis cs:4.5,-0.05)  {0}; 
    \node [draw, fill=green, anchor=north] at (axis cs:5.5,-0.05)  {0}; 
    \node [draw, fill=red, anchor=north] at (axis cs:6.5,-0.05)  {0!}; 
    \node [draw, fill=green, anchor=north] at (axis cs:7.5,-0.05)  {0}; 
  \end{axis}

\end{tikzpicture}

\begin{tikzpicture}
  \label{page:phy:fourier:wrong_bits:noisy}
  \begin{axis}[no markers,
    xlabel=Time,
    ylabel=Voltage,
    domain=0:8,
    trig format plots=rad,
    samples=100,
    grid=both,
    minor tick num=3,
    ]
    \addplot coordinates { (0,0) (1,0) (1,1) (3,1) (3,0) (6,0) (6,1) (7,1) (7,0) (8,0)};
    \addplot table [x=t, y=lowNoise] {\ftable}; 

    % \node [coordinate, pin] at (axis cs:0.5, 0)  {X};
    % \foreach \i/\b in {1/0,2/1,3/1,4/0,5/0,6/0,7/1,8/0} {
    %   \node [draw, fill=green] at (axis cs:\i,-0.25)  {\b}; 
    % }

    \draw [dotted, thick, green] (axis cs:0,0.5) -- (axis cs:8,0.5)
    ; 
    
    % \node [draw, fill=green, anchor=north] at (axis cs:0.5,-0.05)  {0}; 
    % \node [draw, fill=green, anchor=north] at (axis cs:1.5,-0.05)  {1}; 
    % \node [draw, fill=green, anchor=north] at (axis cs:2.5,-0.05)  {1}; 
    % \node [draw, fill=green, anchor=north] at (axis cs:3.5,-0.05)  {0}; 
    % \node [draw, fill=green, anchor=north] at (axis cs:4.5,-0.05)  {0}; 
    % \node [draw, fill=green, anchor=north] at (axis cs:5.5,-0.05)  {0}; 
    % \node [draw, fill=green, anchor=north] at (axis cs:6.5,-0.05)  {1}; 
    % \node [draw, fill=green, anchor=north] at (axis cs:7.5,-0.05)  {0}; 
  \end{axis}

\end{tikzpicture}

\begin{tikzpicture}
  \label{page:phy:ascii_b:2bits_per_symbol}
  \begin{axis}[no markers,
    xlabel=Time,
    ylabel=Voltage,
    ymin=0, ymax=3,
    ]
    \addplot coordinates { (0,1) (1,1) (1,2) (2,2) (2,0) (3,0) (3,1) (4,1)
    };
  \end{axis}
\end{tikzpicture}


\end{document}